{"ast":null,"code":"var _jsxFileName = \"E:\\\\Courses\\\\DEPI\\\\Technical\\\\Project\\\\Template\\\\src\\\\pages\\\\PredictionPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport apiClient from '../api/apiClient.ts';\n\n// Define the feature field types\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Define model-specific feature fields\nconst MODEL_FEATURE_FIELDS = {\n  \"schizo-predictor\": [{\n    name: \"Age\",\n    label: \"Age\",\n    type: \"number\",\n    min: 1,\n    max: 120\n  }, {\n    name: \"Gender\",\n    label: \"Gender\",\n    type: \"select\",\n    options: [\"Male\", \"Female\"]\n  }, {\n    name: \"Marital_Status\",\n    label: \"Marital Status\",\n    type: \"select\",\n    options: [\"Single\", \"Married\", \"Divorced\", \"Widowed\"]\n  }, {\n    name: \"Fatigue\",\n    label: \"Fatigue Level\",\n    type: \"number\",\n    min: 1,\n    max: 5\n  }, {\n    name: \"Slowing\",\n    label: \"Movement Slowing\",\n    type: \"number\",\n    min: 1,\n    max: 5\n  }, {\n    name: \"Pain\",\n    label: \"Pain Level\",\n    type: \"number\",\n    min: 1,\n    max: 5\n  }, {\n    name: \"Hygiene\",\n    label: \"Hygiene Level\",\n    type: \"number\",\n    min: 1,\n    max: 5\n  }, {\n    name: \"Movement\",\n    label: \"Movement Quality\",\n    type: \"number\",\n    min: 1,\n    max: 5\n  }],\n  // Add other model-specific fields here\n  \"cardio-predictor\": [{\n    name: \"age\",\n    label: \"Age\",\n    type: \"number\"\n  }, {\n    name: \"gender\",\n    label: \"Gender\",\n    type: \"select\",\n    options: [\"1\", \"2\"]\n  }, {\n    name: \"height\",\n    label: \"Height (cm)\",\n    type: \"number\"\n  }, {\n    name: \"weight\",\n    label: \"Weight (kg)\",\n    type: \"number\"\n  }, {\n    name: \"ap_hi\",\n    label: \"Systolic Blood Pressure\",\n    type: \"number\"\n  }, {\n    name: \"ap_lo\",\n    label: \"Diastolic Blood Pressure\",\n    type: \"number\"\n  }, {\n    name: \"cholesterol\",\n    label: \"Cholesterol\",\n    type: \"select\",\n    options: [\"1\", \"2\", \"3\"]\n  }, {\n    name: \"gluc\",\n    label: \"Glucose\",\n    type: \"select\",\n    options: [\"1\", \"2\", \"3\"]\n  }, {\n    name: \"smoke\",\n    label: \"Smoking\",\n    type: \"select\",\n    options: [\"0\", \"1\"]\n  }, {\n    name: \"alco\",\n    label: \"Alcohol\",\n    type: \"select\",\n    options: [\"0\", \"1\"]\n  }, {\n    name: \"active\",\n    label: \"Physical Activity\",\n    type: \"select\",\n    options: [\"0\", \"1\"]\n  }],\n  \"diabetes-predictor\": [{\n    name: \"Pregnancies\",\n    label: \"Pregnancies\",\n    type: \"number\"\n  }, {\n    name: \"Glucose\",\n    label: \"Glucose\",\n    type: \"number\"\n  }, {\n    name: \"BloodPressure\",\n    label: \"Blood Pressure\",\n    type: \"number\"\n  }, {\n    name: \"SkinThickness\",\n    label: \"Skin Thickness\",\n    type: \"number\"\n  }, {\n    name: \"Insulin\",\n    label: \"Insulin\",\n    type: \"number\"\n  }, {\n    name: \"BMI\",\n    label: \"BMI\",\n    type: \"number\"\n  }, {\n    name: \"DiabetesPedigreeFunction\",\n    label: \"Diabetes Pedigree Function\",\n    type: \"number\"\n  }, {\n    name: \"Age\",\n    label: \"Age\",\n    type: \"number\"\n  }],\n  \"asthma-predictor\": [\n    // Add the asthma model fields once you have them\n  ]\n};\nconst PredictionPage = () => {\n  _s();\n  const {\n    modelId\n  } = useParams();\n  const [model, setModel] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [predicting, setPredicting] = useState(false);\n  const [error, setError] = useState(null);\n  const [file, setFile] = useState(null);\n  const [text, setText] = useState('');\n  const [features, setFeatures] = useState({});\n  const [customFeatureKeys, setCustomFeatureKeys] = useState([]);\n  const [result, setResult] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [requiredFeatures, setRequiredFeatures] = useState([]);\n  useEffect(() => {\n    const fetchModelDetails = async () => {\n      if (!modelId) return;\n      try {\n        setLoading(true);\n        const data = await apiClient.getModelDetails(modelId);\n        setModel(data);\n        setFeatures({}); // Reset features when model changes\n        setError(null);\n      } catch (err) {\n        setError('Failed to fetch model details. Please try again later.');\n        console.error('Error fetching model details:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchModelDetails();\n  }, [modelId]);\n  const handleFileChange = e => {\n    var _e$target$files;\n    const selectedFile = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n\n      // Create preview URL for image\n      if (selectedFile.type.startsWith('image/')) {\n        const url = URL.createObjectURL(selectedFile);\n        setPreviewUrl(url);\n      } else {\n        setPreviewUrl(null);\n      }\n    }\n  };\n  const handleTextChange = e => {\n    setText(e.target.value);\n  };\n  const handleFeatureChange = (key, value) => {\n    setFeatures(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const handleAddCustomFeature = () => {\n    const newKey = `feature${customFeatureKeys.length + 1}`;\n    setCustomFeatureKeys(prev => [...prev, newKey]);\n  };\n  const handleRemoveCustomFeature = keyToRemove => {\n    setCustomFeatureKeys(prev => prev.filter(key => key !== keyToRemove));\n    setFeatures(prev => {\n      const newFeatures = {\n        ...prev\n      };\n      delete newFeatures[keyToRemove];\n      return newFeatures;\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!model || !modelId) return;\n    setRequiredFeatures([]);\n    try {\n      setPredicting(true);\n      setError(null);\n      let response;\n      if (model.input_type === 'image' && file) {\n        response = await apiClient.predictImage(modelId, file);\n      } else if (model.input_type === 'text' && text) {\n        response = await apiClient.predictText(modelId, text);\n      } else if (model.input_type === 'tabular' && Object.keys(features).length > 0) {\n        response = await apiClient.predictTabular(modelId, features);\n      } else {\n        throw new Error('Invalid input for model type');\n      }\n      setResult(response);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.required_features) {\n        setRequiredFeatures(err.response.data.required_features);\n        setError(`Missing required features: ${err.response.data.detail}`);\n      } else {\n        setError('Failed to make prediction. Please check your input and try again.');\n      }\n      console.error('Error making prediction:', err);\n    } finally {\n      setPredicting(false);\n    }\n  };\n  const renderModelSpecificFields = () => {\n    if (!model || !modelId) return null;\n    const fields = MODEL_FEATURE_FIELDS[modelId];\n    if (!fields || fields.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-700\",\n        children: \"Model-Specific Features\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), fields.map(field => {\n        var _field$options;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: field.name,\n            className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n            children: [field.label, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 sm:mt-0 sm:col-span-2\",\n            children: field.type === 'select' ? /*#__PURE__*/_jsxDEV(\"select\", {\n              id: field.name,\n              name: field.name,\n              value: features[field.name] || '',\n              onChange: e => handleFeatureChange(field.name, e.target.value),\n              className: `max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md ${requiredFeatures.includes(field.name) ? 'border-red-500 ring-1 ring-red-500' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: [\"Select \", field.label]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), (_field$options = field.options) === null || _field$options === void 0 ? void 0 : _field$options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option,\n                children: option\n              }, option, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: field.name,\n              name: field.name,\n              min: field.min,\n              max: field.max,\n              value: features[field.name] || '',\n              onChange: e => handleFeatureChange(field.name, field.type === 'number' ? Number(e.target.value) : e.target.value),\n              className: `max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md ${requiredFeatures.includes(field.name) ? 'border-red-500 ring-1 ring-red-500' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, field.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  };\n  const renderCustomFeatureFields = () => {\n    if (!model || model.input_type !== 'tabular') return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-700\",\n          children: \"Custom Features\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddCustomFeature,\n          className: \"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n          children: \"Add Custom Feature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), customFeatureKeys.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: customFeatureKeys.map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: key,\n              disabled: true,\n              className: \"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md bg-gray-50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2/3 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Value\",\n              value: features[key] || '',\n              onChange: e => handleFeatureChange(key, isNaN(Number(e.target.value)) ? e.target.value : Number(e.target.value)),\n              className: \"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleRemoveCustomFeature(key),\n              className: \"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-4 w-4\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"No custom features added yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this);\n  };\n  const renderInputForm = () => {\n    if (!model) return null;\n    switch (model.input_type) {\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Upload Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-center\",\n              children: [previewUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: previewUrl,\n                  alt: \"Preview\",\n                  className: \"mx-auto h-64 object-contain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"mx-auto h-12 w-12 text-gray-400\",\n                stroke: \"currentColor\",\n                fill: \"none\",\n                viewBox: \"0 0 48 48\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\",\n                  strokeWidth: \"2\",\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"file-upload\",\n                  className: \"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Upload a file\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"file-upload\",\n                    name: \"file-upload\",\n                    type: \"file\",\n                    className: \"sr-only\",\n                    onChange: handleFileChange,\n                    accept: \"image/*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"pl-1\",\n                  children: \"or drag and drop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: model.supported_formats ? `Supported formats: ${model.supported_formats.join(', ')}` : 'PNG, JPG, GIF up to 10MB'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this);\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"text-input\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Enter Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"text-input\",\n              name: \"text-input\",\n              rows: 4,\n              className: \"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"Enter text for analysis...\",\n              value: text,\n              onChange: handleTextChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this);\n      case 'tabular':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [renderModelSpecificFields(), renderCustomFeatureFields()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Unsupported model type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const renderResult = () => {\n    if (!result) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white shadow overflow-hidden sm:rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:px-6 bg-green-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900\",\n          children: \"Prediction Result\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 max-w-2xl text-sm text-gray-500\",\n          children: [\"Processed in \", result.processing_time.toFixed(3), \" seconds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"dl\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Prediction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-semibold\",\n              children: result.prediction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Confidence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-indigo-600 h-2.5 rounded-full\",\n                    style: {\n                      width: `${result.confidence * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2\",\n                  children: [(result.confidence * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), result.class_probabilities && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Class Probabilities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2\",\n                children: Object.entries(result.class_probabilities).map(([className, prob]) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: className\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center w-2/3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-600 h-2 rounded-full\",\n                        style: {\n                          width: `${prob * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 text-xs\",\n                      children: [(prob * 100).toFixed(1), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 25\n                  }, this)]\n                }, className, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-8\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 p-4 rounded-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-red-400\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this) : model ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:flex md:items-center md:justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate\",\n              children: [\"Make Prediction with \", model.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-500\",\n              children: model.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex md:mt-0 md:ml-4\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/models/${model.id}`,\n              className: \"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n              children: \"Back to Model Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-5 sm:p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [renderInputForm(), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: predicting || model.input_type === 'image' && !file || model.input_type === 'text' && !text || model.input_type === 'tabular' && Object.keys(features).length === 0,\n                  className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-300 disabled:cursor-not-allowed\",\n                  children: predicting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                        className: \"opacity-25\",\n                        cx: \"12\",\n                        cy: \"12\",\n                        r: \"10\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                        className: \"opacity-75\",\n                        fill: \"currentColor\",\n                        d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 27\n                    }, this), \"Processing...\"]\n                  }, void 0, true) : 'Make Prediction'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), renderResult()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Model not found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/models\",\n          className: \"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700\",\n          children: \"Back to Models\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 425,\n    columnNumber: 5\n  }, this);\n};\n_s(PredictionPage, \"dMfYKgOE+942L3YNjAY5bGj2HCA=\", false, function () {\n  return [useParams];\n});\n_c = PredictionPage;\nexport default PredictionPage;\nvar _c;\n$RefreshReg$(_c, \"PredictionPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","apiClient","jsxDEV","_jsxDEV","Fragment","_Fragment","MODEL_FEATURE_FIELDS","name","label","type","min","max","options","PredictionPage","_s","modelId","model","setModel","loading","setLoading","predicting","setPredicting","error","setError","file","setFile","text","setText","features","setFeatures","customFeatureKeys","setCustomFeatureKeys","result","setResult","previewUrl","setPreviewUrl","requiredFeatures","setRequiredFeatures","fetchModelDetails","data","getModelDetails","err","console","handleFileChange","e","_e$target$files","selectedFile","target","files","startsWith","url","URL","createObjectURL","handleTextChange","value","handleFeatureChange","key","prev","handleAddCustomFeature","newKey","length","handleRemoveCustomFeature","keyToRemove","filter","newFeatures","handleSubmit","preventDefault","response","input_type","predictImage","predictText","Object","keys","predictTabular","Error","_err$response","_err$response$data","required_features","detail","renderModelSpecificFields","fields","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","field","_field$options","htmlFor","id","onChange","includes","option","Number","renderCustomFeatureFields","onClick","disabled","placeholder","isNaN","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","renderInputForm","src","alt","accept","supported_formats","join","rows","renderResult","processing_time","toFixed","prediction","style","width","confidence","class_probabilities","entries","prob","fillRule","clipRule","description","to","onSubmit","cx","cy","r","_c","$RefreshReg$"],"sources":["E:/Courses/DEPI/Technical/Project/Template/src/pages/PredictionPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport apiClient from '../api/apiClient.ts'\n\ninterface Model {\n  id: string;\n  name: string;\n  description: string;\n  input_type: string;\n  supported_formats?: string[];\n}\n\ninterface PredictionResponse {\n  prediction: string;\n  confidence: number;\n  processing_time: number;\n  class_probabilities?: Record<string, number>;\n}\n\n// Define the feature field types\ninterface FeatureField {\n  name: string;\n  label: string;\n  type: \"text\" | \"number\" | \"select\";\n  options?: string[];\n  min?: number;\n  max?: number;\n}\n\n// Define model-specific feature fields\nconst MODEL_FEATURE_FIELDS: Record<string, FeatureField[]> = {\n  \"schizo-predictor\": [\n    { name: \"Age\", label: \"Age\", type: \"number\", min: 1, max: 120 },\n    { name: \"Gender\", label: \"Gender\", type: \"select\", options: [\"Male\", \"Female\"] },\n    { name: \"Marital_Status\", label: \"Marital Status\", type: \"select\", options: [\"Single\", \"Married\", \"Divorced\", \"Widowed\"] },\n    { name: \"Fatigue\", label: \"Fatigue Level\", type: \"number\", min: 1, max: 5 },\n    { name: \"Slowing\", label: \"Movement Slowing\", type: \"number\", min: 1, max: 5 },\n    { name: \"Pain\", label: \"Pain Level\", type: \"number\", min: 1, max: 5 },\n    { name: \"Hygiene\", label: \"Hygiene Level\", type: \"number\", min: 1, max: 5 },\n    { name: \"Movement\", label: \"Movement Quality\", type: \"number\", min: 1, max: 5 },\n  ],\n  // Add other model-specific fields here\n  \"cardio-predictor\": [\n    { name: \"age\", label: \"Age\", type: \"number\" },\n    { name: \"gender\", label: \"Gender\", type: \"select\", options: [\"1\", \"2\"] },\n    { name: \"height\", label: \"Height (cm)\", type: \"number\" },\n    { name: \"weight\", label: \"Weight (kg)\", type: \"number\" },\n    { name: \"ap_hi\", label: \"Systolic Blood Pressure\", type: \"number\" },\n    { name: \"ap_lo\", label: \"Diastolic Blood Pressure\", type: \"number\" },\n    { name: \"cholesterol\", label: \"Cholesterol\", type: \"select\", options: [\"1\", \"2\", \"3\"] },\n    { name: \"gluc\", label: \"Glucose\", type: \"select\", options: [\"1\", \"2\", \"3\"] },\n    { name: \"smoke\", label: \"Smoking\", type: \"select\", options: [\"0\", \"1\"] },\n    { name: \"alco\", label: \"Alcohol\", type: \"select\", options: [\"0\", \"1\"] },\n    { name: \"active\", label: \"Physical Activity\", type: \"select\", options: [\"0\", \"1\"] },\n  ],\n  \"diabetes-predictor\": [\n    { name: \"Pregnancies\", label: \"Pregnancies\", type: \"number\" },\n    { name: \"Glucose\", label: \"Glucose\", type: \"number\" },\n    { name: \"BloodPressure\", label: \"Blood Pressure\", type: \"number\" },\n    { name: \"SkinThickness\", label: \"Skin Thickness\", type: \"number\" },\n    { name: \"Insulin\", label: \"Insulin\", type: \"number\" },\n    { name: \"BMI\", label: \"BMI\", type: \"number\" },\n    { name: \"DiabetesPedigreeFunction\", label: \"Diabetes Pedigree Function\", type: \"number\" },\n    { name: \"Age\", label: \"Age\", type: \"number\" },\n  ],\n  \"asthma-predictor\": [\n    // Add the asthma model fields once you have them\n  ]\n};\n\nconst PredictionPage: React.FC = () => {\n  const { modelId } = useParams<{ modelId: string }>();\n  const [model, setModel] = useState<Model | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [predicting, setPredicting] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [file, setFile] = useState<File | null>(null);\n  const [text, setText] = useState<string>('');\n  const [features, setFeatures] = useState<Record<string, any>>({});\n  const [customFeatureKeys, setCustomFeatureKeys] = useState<string[]>([]);\n  const [result, setResult] = useState<PredictionResponse | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [requiredFeatures, setRequiredFeatures] = useState<string[]>([]);\n\n  useEffect(() => {\n    const fetchModelDetails = async () => {\n      if (!modelId) return;\n      \n      try {\n        setLoading(true);\n        const data = await apiClient.getModelDetails(modelId);\n        setModel(data);\n        setFeatures({}); // Reset features when model changes\n        setError(null);\n      } catch (err) {\n        setError('Failed to fetch model details. Please try again later.');\n        console.error('Error fetching model details:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchModelDetails();\n  }, [modelId]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      \n      // Create preview URL for image\n      if (selectedFile.type.startsWith('image/')) {\n        const url = URL.createObjectURL(selectedFile);\n        setPreviewUrl(url);\n      } else {\n        setPreviewUrl(null);\n      }\n    }\n  };\n\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setText(e.target.value);\n  };\n\n  const handleFeatureChange = (key: string, value: any) => {\n    setFeatures(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  const handleAddCustomFeature = () => {\n    const newKey = `feature${customFeatureKeys.length + 1}`;\n    setCustomFeatureKeys(prev => [...prev, newKey]);\n  };\n\n  const handleRemoveCustomFeature = (keyToRemove: string) => {\n    setCustomFeatureKeys(prev => prev.filter(key => key !== keyToRemove));\n    setFeatures(prev => {\n      const newFeatures = { ...prev };\n      delete newFeatures[keyToRemove];\n      return newFeatures;\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!model || !modelId) return;\n    \n    setRequiredFeatures([]);\n    \n    try {\n      setPredicting(true);\n      setError(null);\n      \n      let response;\n      \n      if (model.input_type === 'image' && file) {\n        response = await apiClient.predictImage(modelId, file);\n      } else if (model.input_type === 'text' && text) {\n        response = await apiClient.predictText(modelId, text);\n      } else if (model.input_type === 'tabular' && Object.keys(features).length > 0) {\n        response = await apiClient.predictTabular(modelId, features);\n      } else {\n        throw new Error('Invalid input for model type');\n      }\n      \n      setResult(response);\n    } catch (err: any) {\n      if (err.response?.data?.required_features) {\n        setRequiredFeatures(err.response.data.required_features);\n        setError(`Missing required features: ${err.response.data.detail}`);\n      } else {\n        setError('Failed to make prediction. Please check your input and try again.');\n      }\n      console.error('Error making prediction:', err);\n    } finally {\n      setPredicting(false);\n    }\n  };\n\n  const renderModelSpecificFields = () => {\n    if (!model || !modelId) return null;\n    \n    const fields = MODEL_FEATURE_FIELDS[modelId];\n    if (!fields || fields.length === 0) return null;\n    \n    return (\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-medium text-gray-700\">Model-Specific Features</h3>\n        {fields.map((field) => (\n          <div key={field.name} className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start\">\n            <label htmlFor={field.name} className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n              {field.label}\n              <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\n              {field.type === 'select' ? (\n                <select\n                  id={field.name}\n                  name={field.name}\n                  value={features[field.name] || ''}\n                  onChange={(e) => handleFeatureChange(field.name, e.target.value)}\n                  className={`max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md ${\n                    requiredFeatures.includes(field.name) ? 'border-red-500 ring-1 ring-red-500' : ''\n                  }`}\n                >\n                  <option value=\"\">Select {field.label}</option>\n                  {field.options?.map((option) => (\n                    <option key={option} value={option}>\n                      {option}\n                    </option>\n                  ))}\n                </select>\n              ) : (\n                <input\n                  type=\"number\"\n                  id={field.name}\n                  name={field.name}\n                  min={field.min}\n                  max={field.max}\n                  value={features[field.name] || ''}\n                  onChange={(e) => handleFeatureChange(field.name, field.type === 'number' ? Number(e.target.value) : e.target.value)}\n                  className={`max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md ${\n                    requiredFeatures.includes(field.name) ? 'border-red-500 ring-1 ring-red-500' : ''\n                  }`}\n                />\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const renderCustomFeatureFields = () => {\n    if (!model || model.input_type !== 'tabular') return null;\n    \n    return (\n      <div className=\"mt-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-700\">Custom Features</h3>\n          <button\n            type=\"button\"\n            onClick={handleAddCustomFeature}\n            className=\"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            Add Custom Feature\n          </button>\n        </div>\n        \n        {customFeatureKeys.length > 0 ? (\n          <div className=\"space-y-3\">\n            {customFeatureKeys.map((key) => (\n              <div key={key} className=\"flex items-center space-x-2\">\n                <div className=\"w-1/3\">\n                  <input\n                    type=\"text\"\n                    value={key}\n                    disabled\n                    className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md bg-gray-50\"\n                  />\n                </div>\n                <div className=\"w-2/3 flex items-center space-x-2\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Value\"\n                    value={features[key] || ''}\n                    onChange={(e) => handleFeatureChange(key, isNaN(Number(e.target.value)) ? e.target.value : Number(e.target.value))}\n                    className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveCustomFeature(key)}\n                    className=\"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                  >\n                    <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-sm text-gray-500\">No custom features added yet.</p>\n        )}\n      </div>\n    );\n  };\n\n  const renderInputForm = () => {\n    if (!model) return null;\n    \n    switch (model.input_type) {\n      case 'image':\n        return (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700\">Upload Image</label>\n            <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n              <div className=\"space-y-1 text-center\">\n                {previewUrl ? (\n                  <div className=\"mb-4\">\n                    <img src={previewUrl} alt=\"Preview\" className=\"mx-auto h-64 object-contain\" />\n                  </div>\n                ) : (\n                  <svg className=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\">\n                    <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                )}\n                <div className=\"flex text-sm text-gray-600\">\n                  <label htmlFor=\"file-upload\" className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\">\n                    <span>Upload a file</span>\n                    <input id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" onChange={handleFileChange} accept=\"image/*\" />\n                  </label>\n                  <p className=\"pl-1\">or drag and drop</p>\n                </div>\n                <p className=\"text-xs text-gray-500\">\n                  {model.supported_formats \n                    ? `Supported formats: ${model.supported_formats.join(', ')}` \n                    : 'PNG, JPG, GIF up to 10MB'}\n                </p>\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 'text':\n        return (\n          <div>\n            <label htmlFor=\"text-input\" className=\"block text-sm font-medium text-gray-700\">\n              Enter Text\n            </label>\n            <div className=\"mt-1\">\n              <textarea\n                id=\"text-input\"\n                name=\"text-input\"\n                rows={4}\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                placeholder=\"Enter text for analysis...\"\n                value={text}\n                onChange={handleTextChange}\n              />\n            </div>\n          </div>\n        );\n      \n      case 'tabular':\n        return (\n          <div>\n            {renderModelSpecificFields()}\n            {renderCustomFeatureFields()}\n          </div>\n        );\n      \n      default:\n        return <p>Unsupported model type</p>;\n    }\n  };\n\n  const renderResult = () => {\n    if (!result) return null;\n    \n    return (\n      <div className=\"mt-8 bg-white shadow overflow-hidden sm:rounded-lg\">\n        <div className=\"px-4 py-5 sm:px-6 bg-green-50\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Prediction Result</h3>\n          <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n            Processed in {result.processing_time.toFixed(3)} seconds\n          </p>\n        </div>\n        <div className=\"border-t border-gray-200\">\n          <dl>\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Prediction</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-semibold\">\n                {result.prediction}\n              </dd>\n            </div>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Confidence</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                    <div \n                      className=\"bg-indigo-600 h-2.5 rounded-full\" \n                      style={{ width: `${result.confidence * 100}%` }}\n                    ></div>\n                  </div>\n                  <span className=\"ml-2\">{(result.confidence * 100).toFixed(1)}%</span>\n                </div>\n              </dd>\n            </div>\n            \n            {/* Display class probabilities if available */}\n            {result.class_probabilities && (\n              <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">Class Probabilities</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  <ul className=\"space-y-2\">\n                    {Object.entries(result.class_probabilities).map(([className, prob]) => (\n                      <li key={className} className=\"flex items-center justify-between\">\n                        <span>{className}</span>\n                        <div className=\"flex items-center w-2/3\">\n                          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                            <div \n                              className=\"bg-blue-600 h-2 rounded-full\" \n                              style={{ width: `${prob * 100}%` }}\n                            ></div>\n                          </div>\n                          <span className=\"ml-2 text-xs\">{(prob * 100).toFixed(1)}%</span>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n                </dd>\n              </div>\n            )}\n          </dl>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div className=\"py-8\">\n        {loading ? (\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"></div>\n          </div>\n        ) : error ? (\n          <div className=\"bg-red-50 p-4 rounded-md\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-red-800\">{error}</h3>\n              </div>\n            </div>\n          </div>\n        ) : model ? (\n          <div>\n            <div className=\"md:flex md:items-center md:justify-between\">\n              <div className=\"flex-1 min-w-0\">\n                <h2 className=\"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate\">\n                  Make Prediction with {model.name}\n                </h2>\n                <p className=\"mt-1 text-sm text-gray-500\">{model.description}</p>\n              </div>\n              <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n                <Link\n                  to={`/models/${model.id}`}\n                  className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                >\n                  Back to Model Details\n                </Link>\n              </div>\n            </div>\n            <div className=\"mt-8 bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <form onSubmit={handleSubmit}>\n                  {renderInputForm()}\n                  \n                  <div className=\"mt-6\">\n                    <button\n                      type=\"submit\"\n                      disabled={predicting || (\n                        (model.input_type === 'image' && !file) ||\n                        (model.input_type === 'text' && !text) ||\n                        (model.input_type === 'tabular' && Object.keys(features).length === 0)\n                      )}\n                      className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n                    >\n                      {predicting ? (\n                        <>\n                          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                          Processing...\n                        </>\n                      ) : (\n                        'Make Prediction'\n                      )}\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n            {renderResult()}\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <p className=\"text-gray-500\">Model not found.</p>\n            <Link to=\"/models\" className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700\">\n              Back to Models\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PredictionPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}